-- 发送总条数
SELECT COUNT(*)
FROM MSG.`MSG_MESSAGE_USER`
WHERE SHOP_ID = 388
  AND TYPE = 20
  AND STATUS = 10
  AND CREATED_AT BETWEEN '2021-01-01 00:00:00' AND '2023-01-01 00:00:00';

-- 验证码条数
SELECT COUNT(*)
FROM MSG.MSG_MESSAGE
WHERE ID IN (SELECT MESSAGE_ID
             FROM MSG.`MSG_MESSAGE_USER`
             WHERE SHOP_ID = 388
               AND TYPE = 20
               AND STATUS = 10
               AND CREATED_AT BETWEEN '2021-01-01 00:00:00' AND '2023-01-01 00:00:00')
  AND TEMPLATE_ID IN (19, 112, 40, 25, 23, 22);